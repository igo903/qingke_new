<!DOCTYPE html>
<html lang="zh-CN" xml:lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>欢迎来到轻课网</title>
		<meta name="description" content="Welcome to the Qingke">
		<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1">

		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/noty.css">
		<link rel="stylesheet" href="css/font-awesome.min.css">
		<link rel="stylesheet" href="css/styles.css">
		<link rel="stylesheet" href="css/prism.css">
		<!--[if gte IE 9]>
		  <style type="text/css">
			.gradient {
			   filter: none;
			}
		  </style>
		<![endif]-->
		<link rel="stylesheet" href="css/boring-plugin.css">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/rrssb.css">
		<link rel="stylesheet" href="css/animate.min.css">
		<link rel="stylesheet" href="css/pub.css">

		<!-- <script>if (!window.jQuery) { document.write('<script src="http://code.jquery.com/jquery-1.11.2.min.js"><\/script>'); }</script> -->
		<script src="js/jquery-1.11.2.min.js"></script>

		<!-- <link rel="icon" href="/content/uploads/settings/favicon.png" type="image/x-icon">
		<link rel="shortcut icon" href="/content/uploads//settings/favicon.png" type="image9sx-icon"> -->

	</head>


	<body class="">
		<nav class="navbar navbar-default navbar-static-top headroom headroom--top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<a id="nav-toggle" href="#"><span></span></a>
					<a href="/" class="navbar-brand"><!--<img src="img/logo.png">--></a>
				</div>

				<div class="collapse navbar-collapse right" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav navbar-left">
						<li class="active"><a href="/">首页</a></li>
						<li class="dropdown">
							<a href="/videos" class="dropdown-toggle">视频</a>
							<ul class="dropdown-menu multi-level" role="menu">
								<li><a href="/videos">常规课程</a></li>
								<li><a href="/shows">简短视频</a></li>
								<li><a href="/series">系列教学</a></li>
							</ul>
						</li>

						<li class="dropdown">
							<a href="/posts" class="dropdown-toggle">文章</a>
							<ul class="dropdown-menu multi-level" role="menu">
								<li><a href="/posts/category/tutorials">教程</a></li>
								<li><a href="/posts/category/how-to">有问必答</a></li>
								<li><a href="/posts/category/technology">前瞻技术</a></li>
								<li><a href="/posts/category/chitchat">热门讨论</a></li>
							</ul>
						</li>
						<li><a href="/page/laravel-survival-guide">移动端UX设计</a></li>
					</ul>

					<!--ul class="navbar-right">
						<li>
							<div id="navbar-search-form">
								<form role="search" action="/search" method="GET">
									<i class="fa fa-search"></i>
									<input type="text" id="value" name="value" placeholder="Type and Find">
								</form>
							</div>
						</li>
					</ul-->

					<ul class="nav navbar-nav navbar-right">
						<li class="login-desktop"><a href="javascript:;" class="j-login-btn"><i class="fa fa-lock"></i> 登录</a></li>
						<li class="signup-desktop"><a href="javascript:;" class="j-reg-btn"><i class="dojo-user-circle"></i> 注册</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li class="user-info">
							<a href="">
								<img src="https://tse1.mm.bing.net/th?&id=OIP.M377aff37bc79377886d093987b03dba6o2&w=299&h=299&c=0&pid=1.9&rs=0&p=0" alt="" class="user-avatar" />
								<span class="user-name">李小龙</span>
							</a>
						</li>
						<li class="logout">
							<a href="">退出登录</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>


		<div class="clear"></div>
		<div id="video_bg" style="background-image:url(img/faker.jpg)">
			<div id="video_bg_overlay"></div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col col-md-3"></div>
				<div class="col col-md-9">
					<section class="pub-box">
						<h1 class="pub-title">创建轻课</h1>
						<div class="pub-types">
							<label class="radio-inline">
								<input type="radio" name="type" />单篇轻课
							</label>
							<label class="radio-inline">
								<input type="radio" name="type" />系列轻课
							</label>
						</div>
						<form class="pub-form j-pub-form">
							<div class="form-group">
								<label for="title">标题</label>
								<input type="text" class="form-control" id="title" />
							</div>
							<div class="form-group">
								<label for="summary">简介</label>
								<textarea class="form-control" id="summary"></textarea>
							</div>
							<div class="form-group">
								<div class="file j-file">
									<label class="btn btn-default">
										<input type="file" class="form-control" />
										<i class="fa fa-cloud-upload"></i>上传视频
									</label>
									<div class="file-obj">
										<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
										<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="tags">标签</label>
								<input type="text" class="form-control" id="tags" />
								<div class="pub-labels">
									<a href="javascript:;" class="label label-default j-tag">JavaScript</a>
									<a href="javascript:;" class="label label-default j-tag">Swift</a>
									<a href="javascript:;" class="label label-default j-tag">PHP</a>
									<a href="javascript:;" class="label label-default j-tag">HTML</a>
									<a href="javascript:;" class="label label-default j-tag">CSS</a>
								</div>
							</div>
							<div class="form-group">
								<div class="file j-file">
									<label class="btn btn-default">
										<input type="file" class="form-control" />
										<i class="fa fa-cloud-upload"></i>上传原始代码
									</label>
									<div class="file-obj">
										<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
										<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="file j-file">
									<label class="btn btn-default">
										<input type="file" class="form-control" />
										<i class="fa fa-cloud-upload"></i>上传完成代码
									</label>
									<div class="file-obj">
										<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
										<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label>讲义</label>
								<textarea id="handout"></textarea>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" checked />提交审核
								</label>
								<div class="help-block">如不想提交审核，请取消勾选，您可以在我的轻课列表中提交审核。</div>
							</div>
							<div class="pub-btns">
								<button type="submit" class="btn btn-primary">提交</button>
								<button type="button" class="btn btn-default">取消</button>
							</div>
						</form>
						<form class="pub-form j-pub-form">
							<div class="form-group">
								<label for="series-title">系列标题</label>
								<input type="text" class="form-control" id="series-title" />
							</div>
							<div class="form-group">
								<label for="series-summary">系列简介</label>
								<textarea class="form-control" id="series-summary" rows="5"></textarea>
							</div>
							<div class="qk-chapters">
								<div class="qk-chapter j-qk-group" id="chapter">
									<h2 class="qk-chapter-title">
										<a href="javascript:;" onclick="removelChapter(this)" class="qk-remove j-qk-remove"><i class="fa fa-minus-circle"></i>删除该章</a>
									</h2>
									<div class="form-group">
										<label>章标题</label>
										<input type="text" class="form-control" />
									</div>
									<div class="qk-sections">
										<div class="qk-section j-qk-group" id="section">
											<h3 class="qk-section-title">
												<a href="javascript:;" class="qk-remove j-qk-remove"
													onclick="removeSection(this)" 
												><i class="fa fa-minus-circle"></i>删除该节</a>
											</h3>
											<div class="form-group">
												<label>节标题</label>
												<input type="text" class="form-control" />
											</div>
											<div class="form-group">
												<div class="file j-file">
													<label class="btn btn-default">
														<input type="file" class="form-control" data-name="video" />
														<i class="fa fa-cloud-upload"></i>上传视频
													</label>
													<div class="file-obj">
														<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
														<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
													</div>
												</div>
												<div class="file j-file">
													<label class="btn btn-default">
														<input type="file" class="form-control" data-name="original-code" />
														<i class="fa fa-cloud-upload"></i>上传原始代码
													</label>
													<div class="file-obj">
														<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
														<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
													</div>
												</div>
												<div class="file j-file">
													<label class="btn btn-default">
														<input type="file" class="form-control" data-name="finished-code" />
														<i class="fa fa-cloud-upload"></i>上传完成代码
													</label>
													<div class="file-obj">
														<i class="fa fa-file-o"></i><span class="file-name j-file-name"></span>
														<button type="button" class="file-delete j-file-delete"><i class="fa fa-remove"></i></button>
													</div>
												</div>
											</div>
										</div>
										<a href="javascript:;" onclick="addSection(this)" class="qk-add j-qk-add" data-target="section"><i class="fa fa-plus-circle"></i>添加节</a>
									</div>

								</div>
								<a href="javascript:;" id="chapter-add" class="qk-add j-qk-add" data-target="chapter"><i class="fa fa-plus-circle"></i>添加章</a>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" checked />提交审核
								</label>
								<div class="help-block">如不想提交审核，请取消勾选，您可以在我的轻课列表中提交审核。</div>
							</div>
							<div class="pub-btns">
								<button type="submit" class="btn btn-primary">提交</button>
								<button type="button" class="btn btn-default">取消</button>
							</div>
						</form>
					</section>
				</div>
			</div>
		</div>
		

		<div class="bottom_bar">
			<div class="container">
				<div class="notification">
					<h1>Copyright © 2015 轻课网 - 你的私人轻学习专家. </h1>
				</div>
				<div class="social">
					<h3>关注我们</h3>
					<a href="javascript:;" target="_blank" class="share"><i class="fa fa-facebook"></i></a>
					<a href="javascript:;" target="_blank" class="share"><i class="fa fa-twitter"></i></a>
					<a href="javascript:;" target="_blank" class="share"><i class="fa fa-google-plus"></i></a>
					<a href="javascript:;" target="_blank" class="share"><i class="fa fa-youtube"></i></a>
				</div>
			</div>
		</div>


		<footer>
			<div class="container">

			</div>
		</footer>
		<div class="modal boring-dialog" id="loginDialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close boring-dialog-closer" data-dismiss="modal"><i class="dojo-close-delete"></i><span class="sr-only">关闭</span></button>
						<h4 class="modal-title" id="myModalLabel">登录</h4>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="login-email">E-mail</label>
								<input type="email" class="form-control" id="login-email" placeholder="E-mail">
							</div>
							<div class="form-group">
								<label for="login-password">密码</label>
								<input type="password" class="form-control" id="login-password" placeholder="密码">
							</div>
							<div class="form-group clearfix">
								<div class="checkbox pull-left">
									<label>
										<input type="checkbox"> 记住登录状态
									</label>
								</div>
								<button type="submit" class="btn btn-primary pull-right">登录</button>
							</div>
						</form>
						<div class="quick-login">
							<div class="quick-login-title text-muted hidden-xs">快速登录</div>
							<a href="javascript:;" class="btn btn-sm btn-sn-github"><span class="icon-sn-github"></span> <strong class="visible-xs-inline">Github 账号</strong></a>
							<a href="javascript:;" class="btn btn-sm btn-sn-weibo"><span class="icon-sn-weibo"></span> <strong class="visible-xs-inline">新浪微博账号</strong></a>
							<a href="javascript:;" class="btn btn-sm btn-sn-qq"><span class="icon-sn-qq"></span> <strong class="visible-xs-inline">QQ 账号</strong></a>
							<a href="javascript:;" class="btn btn-sm btn-sn-wechat"><span class="icon-sn-wechat"></span> <strong class="visible-xs-inline">微信账号</strong></a>
							<a href="javascript:;" class="btn btn-sn-douban btn-sm hidden"><span class="icon-sn-douban"></span> <strong class="visible-xs-inline">豆瓣账号</strong></a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal boring-dialog" id="regDialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close boring-dialog-closer" data-dismiss="modal"><i class="dojo-close-delete"></i><span class="sr-only">关闭</span></button>
						<h4 class="modal-title" id="myModalLabel">注册</h4>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="reg-username">用户名</label>
								<input type="text" class="form-control" id="reg-username" placeholder="字母、数字等，用户名唯一">
							</div>
							<div class="form-group">
								<label for="reg-email">E-mail</label>
								<input type="email" class="form-control" id="reg-email" placeholder="ilove@qingke.me">
							</div>
							<div class="form-group">
								<label for="reg-password">密码</label>
								<input type="password" class="form-control" id="reg-password" placeholder="不少于 6 位">
							</div>
							<div class="form-group clearfix">
								<div class="checkbox pull-left">同意并接受<a href="javascript:;" target="_blank">《服务条款》</a></div>
								<button type="submit" class="btn btn-primary pull-right">注册</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>




		<script src="js/rrssb.min.js"></script>
		<script src="js/headroom.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/moment.min.js"></script>
		<script type="text/javascript" src="js/jquery.noty.js"></script>
		<script type="text/javascript" src="js/default.js"></script>
		<script type="text/javascript" src="js/top.js"></script>
		<script src="js/prism.js"></script>
		<script src="tinymce/tinymce.min.js"></script>
		<script src="js/boring.js"></script>
		<script type="text/javascript">
			//********** Headroom js functionality **********/
				// grab an element
				var myElement = document.querySelector(".navbar");
				// construct an instance of Headroom, passing the element
				var headroom  = new Headroom(myElement, { offset: 65 });
				// initialise
				headroom.init();
//====================章、节的增加删除功能
				var flag=0;
				var sectionId= $("#section").parent().children("div:first-child");
				var chapterId=$("#chapter").parent().children("div:first-child");
				var chapterHtml=chapterId.prop('outerHTML'); //获取页面初始化时候的章节里面的html
				var oldSectionId=sectionId.attr("id") //获取sectionid
				var oldChapterId=chapterId.attr("id") //获取chapterid
				// 注册单击事件
				$("#chapter-add").click(function(e){
					var Id="chapter"+flag //得到一个新的id 
					flag++;
					$(e.target).before(chapterHtml) //添加章
					var newChapterId=$(e.target).prev().attr("id",function(){return Id}) //改变添加章中的chapterID避免重复
				})
				function addSection(e){
					var Id="section"+flag
					flag++;
					sectionId.attr("id",function(){return Id;}) //改变id避免重复
					var html=sectionId.prop('outerHTML');
					sectionId.attr("id",function(){return oldSectionId})  //将第一个节的id恢复至原id

					$(e).before(html)
				}
				function removeSection(e){
					$(e).parent().parent().remove()
				}
			
				function removelChapter(e){
					$(e).parent().parent().remove()
				}

//====================章节的增加删除功能结束
			  $('document').ready(function(){


				    $('.dropdown').hover(function(){
				        $(this).addClass('open');
				    }, function(){
				        $(this).removeClass('open');
				    });


			    $('#nav-toggle').click(function(){
			    	$(this).toggleClass('active');
			    	$('.navbar-collapse').toggle();
			    	$('body').toggleClass('nav-open');
			    });

			    $('#mobile-subnav').click(function(){
			    	if($('.second-nav .navbar-left').css('display') == 'block'){
			    		$('.second-nav .navbar-left').slideUp(function(){
			    			$(this).addClass('not-visible');
			    		});
			    		$(this).html('<i class="fa fa-bars"></i> Open Submenu');
			    	} else {
			    		$('.second-nav .navbar-left').slideDown(function(){
			    			$(this).removeClass('not-visible');
			    		});
			    		$(this).html('<i class="fa fa-close"></i> Close Submenu');
			    	}

			    });

			  });

			(function () {
				tinymce.init({
					selector: '#handout',
					language: 'zh_CN',
					plugins: 'code',
					min_height: 300,
					body_class: 'editor-body',
					content_style: '.editor-body { font-size: 14px; }'
				});
			}());

			(function () {
				var tagsInput = document.getElementById('tags');

				document.addEventListener('click', function (e) {
					var t = e.target || event.srcElement,
						tagText;

					if (t.classList.contains('j-tag')) {
						tagText = t.innerHTML;
						tagsInput.value += tagsInput.value ? ', ' + tagText : tagText;
					}
				});
			}());

			var fileManager = (function () {
				var
					initFiles = function (fileBoxes) {
						var i;

						for (i = 0; i < fileBoxes.length; i++) {
							initFile(fileBoxes[i]);
						}
					},

					initFile = function (fileBox) {
						var fileBoxCl = fileBox.classList,
							fileInput = fileBox.getElementsByTagName('input')[0],
							fileName = fileBox.getElementsByClassName('j-file-name')[0],
							fileDelete = fileBox.getElementsByClassName('j-file-delete')[0];

						fileInput.addEventListener('change', function () {
							fileBoxCl.add(FILE_SELECTED_CLASS);
							fileName.innerHTML = this.files[0].name;
						});

						fileDelete.addEventListener('click', function () {
							clearFile(fileInput, fileBoxCl);
						});
					},

					clearFile = function (fileInput, fileBoxCl) {
						try {
							fileInput.value = '';
						} catch (e) {
							fileInput.type = 'text';
							fileInput.type = 'file';
						} finally {
							fileBoxCl.remove(FILE_SELECTED_CLASS);
						}
					},

					FILE_SELECTED_CLASS = 'file-selected';

				initFiles(document.getElementsByClassName('j-file'));

				return {
					initFiles: initFiles
				};
			}());

			(function () {
				var typeRadios = document.getElementsByName('type'),
					$forms = $('.j-pub-form'),
					i;

				for (i = 0; i < typeRadios.length; i++) {
					(function (i) {
						typeRadios[i].addEventListener('click', function () {
							$forms.hide();
							$($forms[i]).show();
						});
					}(i));
				}

				typeRadios[0].click();
			}());

			
										

			// (function () {
			// 	var
			// 		init = function () {
			// 			// bindGroups();
			// 			// listenAdd();
			// 			// listenRemove();
			// 		},

			// 		// bindGroups = function () {
			// 		// 	var handles = document.getElementsByClassName(ADD_HANDLE_CLASS),
			// 		// 		groupId,
			// 		// 		group,
			// 		// 		i;

			// 		// 	for (i = 0; i < handles.length; i++) {
			// 		// 		groupId = getGroupId(handles[i]);
			// 		// 		group = document.getElementById(groupId);
			// 		// 		groups[groupId] = {
			// 		// 			origin: group,
			// 		// 			template: clearGroup(group.cloneNode(true))
			// 		// 		};
			// 		// 	}
			// 		// },

			// 		// getGroupId = function (handle) {
			// 		// 	return handle.dataset.target;
			// 		// },

			// 		// listenAdd = function () {
			// 		// 	document.addEventListener('click', function (e) {
			// 		// 		var handle = boring.bubbleElement(e.target, function (elm) {
			// 		// 			return elm.classList.contains(ADD_HANDLE_CLASS);
			// 		// 		});

			// 		// 		if (handle && handle.classList.contains(ADD_HANDLE_CLASS)) {
			// 		// 			cloneGroup(groups[getGroupId(handle)], handle);
			// 		// 		}
			// 		// 	});
			// 		// },

			// 		// listenRemove = function () {
			// 		// 	document.addEventListener('click', function (e) {
			// 		// 		var handle = boring.bubbleElement(e.target, function (elm) {
			// 		// 			return elm.classList.contains(REMOVE_HANDLE_CLASS);
			// 		// 		});

			// 		// 		if (handle && handle.classList.contains(REMOVE_HANDLE_CLASS)) {
			// 		// 			removeGroup(boring.bubbleElement(handle, function (elm) {
			// 		// 				return elm.classList.contains('j-qk-group');
			// 		// 			}));
			// 		// 		}
			// 		// 	});
			// 		// },

			// 		// cloneGroup = function (groupData, handle) {
			// 		// 	var newGroup = groupData.template.cloneNode(true);

			// 		// 	handle.parentNode.insertBefore(newGroup, handle);
			// 		// 	fileManager.initFiles(newGroup.getElementsByClassName('j-file'));
			// 		// },

			// 		// removeGroup = function (group) {
			// 		// 	group.parentNode.removeChild(group);
			// 		// },

			// 		// clearGroup = function (group) {
			// 		// 	group.removeAttribute('id');

			// 		// 	return group;
			// 		// },

			// 		// ADD_HANDLE_CLASS = 'j-qk-add',
			// 		// REMOVE_HANDLE_CLASS = 'j-qk-remove',
			// 		// groups = {};

			// 	init();
			// }());

			(function () {
				var loginDialog = boring.dialog('loginDialog'),
					regDialog = boring.dialog('regDialog');

				$('.j-login-btn').on('click', function () {
					loginDialog.open();
				});

				$('.j-reg-btn').on('click', function () {
					regDialog.open();
				});
			}());
		</script>
	</body>
</html>
